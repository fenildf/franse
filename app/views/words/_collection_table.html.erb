<table class="<%= resource_class.to_s.downcase.pluralize %> collection">
  <thead>
    <tr>
    <% %w{foreign_lang native_lang can_foreign can_native}.each do |field| %>
      <th><%= field.titleize %></th>
    <% end %>
    </tr>
  </thead>
  <tbody>
  <% collection.each do |r| %>
    <tr>
      <% %w{foreign native}.each do |field| %>
      <td>
        <%= ((not eval("check_"+field)) or nocheck) ? r.attributes[field+'_lang'] : '' %>
      </td>
      <% end %>
      <% %w{foreign native}.each do |field| %>
      <td>
        <%= form_for r do |f| %>
          <%= f.check_box 'can_'+field, :onchange => 'this.form.submit();' %>
        <% end %>
      </td>
      <% end %>
      <td><%= link_to "Edit", edit_resource_url(r) %></td>
      <td><%= link_to "Destroy", resource_url(r), :confirm => 'Are you sure?', :method => :delete %></td>
    </tr>
  <% end %>
  </tbody>
</table>
